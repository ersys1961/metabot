---
description: Чат-виджет от Metabot
---

# Metabot Widget

### Настройка чат-виджета

При создании и тестировании чат-бота можно воспользоваться быстрой и бесплатной настройкой чат-виджета от Metabot.

Перейти в настройки бота в раздел[ **Настройки бота**](https://app.metabot24.com/menubuilder#) подраздел [**Каналы**](https://metabot.gitbook.io/documentation/panel-upravleniya-botom/kanaly)**.**

Нажать кнопку **Новая привязка** и выбрать  канал Web widget.

![](<../.gitbook/assets/izobrazhenie (430).png>)

В открывшемся диалоговом окне рекомендуется заполнить следующие поля:

* **Заголовок** - текстовое поле, которое будет отображаться в заголовке виджета. Не обязательно для заполнения
* **Подзаголовок** - текстовое поле, которое будет отображаться в подзаголовке виджета. Не обязательно для заполнения
* **Подсказка для поля отправки текста** - редактируемое текстовое поле. По умолчанию заполнено фразой "Введите сообщение..."
* **Всплывающая подсказка для поля отправки текста** - редактируемое текстовое поле. По умолчанию заполнено фразой "Введите сообщение...";
* **Версия виджета** = 1. Не редактируемое поле;
* **Дата/время сообщений** - по умолчанию включено, отображает дату и время поступающих и отправленных сообщений в чате
* **Использовать Inline-кнопки** - по умолчанию выключено. При включении в чате пункты меню будут отображены в виде кнопок, а не текста
* **Всплывающий HTML** - HTML-код для блока, который появляется при наведении курсора мыши на значок чат-виджета

Сохранить введенные параметры настройки, нажав на кнопку _ **Сохранить**_.

![](<../.gitbook/assets/izobrazhenie (420).png>)

После сохранения появляется HTML-код для вставки на страницу. Используя любой подходящий редактор вставить данный код перед закрывающим тэгом \</body>.

![](<../.gitbook/assets/izobrazhenie (424).png>)

Проверить работу чат-виджета можно нажав кнопку _**Предварительный просмотр.**_

![](<../.gitbook/assets/izobrazhenie (426).png>)

В новом окне браузера откроется пустая страница и в нижнем правом углу чат-виджет.

![](<../.gitbook/assets/izobrazhenie (422).png>)

Нажмите на иконку Чат-виджета и протестируйте вашего бота на ответы.

![](<../.gitbook/assets/izobrazhenie (419).png>)

### Асинхронное подключение чат-виджета

Для асинхронного подключения чат-виджета одной строкой в настройках имеется поле **Загрузчик**. Оно становится доступным после первоначального сохранения настроек канала.

По команде _**Загрузить**_ выполняется (пере-)генерация скрипта-загрузчика и загрузка его на CDN. Загружается скрипт, идентичный тому, что выведен в поле **Код виджета** выше. Соответственно при изменении настроек, влияющих на код виджета, следует перезагружать скрипт-загрузчик на CDN.

![](<../.gitbook/assets/izobrazhenie (432).png>)

В **Загрузчике** выводится нужная _одна_ строка-ссылка на CDN-скрипт.\
Выполняется автоматическая проверка доступности скрипта-загрузчика в CDN. Если всё ок, то выводится зелёное "200", иначе - красное "404" или какой код ошибки вернёт проверка.&#x20;

![](<../.gitbook/assets/izobrazhenie (429).png>)

### Подключение виджета через GOOGLE (GTM)
