---
description: Запросить значение у пользователя и сохранить его в обращении
---

# Запросить значение

Функциональную команду запроса значений можно использовать в любой части вашего бота. В построенном диалоге вы можете добавить данную команду для того, чтобы, например, узнать Имя пользователя и тем самым данный атрибут будет записан в параметры пользователя. В дальнейшем можно будет использовать его, например, при рассылке уведомлений. 

{% embed url="https://www.youtube.com/watch?v=IorPAz8ej48" %}

Настроить команду _Запросить значение_ можно, выбрав одноименный пункт **Запросить значение** из списка **Команд**:

![&#x421;&#x43F;&#x438;&#x441;&#x43E;&#x43A; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;](../.gitbook/assets/izobrazhenie.png)

Параметр _Использовать условие_ - активность параметра позволяет создавать условие:

* если условие выполнено успешно, то данная команда будет выполнена
* если условие выполнено не успешно, то данная команда не будет выполнена

Подробнее с синтаксисом условий можно ознакомиться в разделе [JS условие выполнения команды](https://metarex.gitbook.io/metabot24/sintaksis-js-skripta-s-usloviem/js-uslovie-vypolneniya-komandy).

{% hint style="warning" %}
Параметр позволяет настраивать очень гибкие сценарии бота, в котором выполнение тех или иных команд зависит от выполнения условий. Например, зависит определенных действий пользователя или от полученных от него данных.
{% endhint %}

В диалоговом окне необходимо указать следующие параметры:

* **Имя переменной** - указать имя, с которым переменная будет записана в базу данных.
* **Подсказка-приглашение для пользователя** - текстовое сообщение понятное пользователю.

Нажать кнопку _**Создать**_.

![&#x41D;&#x430;&#x441;&#x442;&#x440;&#x43E;&#x439;&#x43A;&#x430; &#x441;&#x432;&#x43E;&#x439;&#x441;&#x442;&#x432; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x44B;](../.gitbook/assets/image%20%28107%29.png)

В редакторе скриптов появится команда **Запросить значение**.

![&#x41A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x430; &#x432; &#x440;&#x435;&#x434;&#x430;&#x43A;&#x442;&#x43E;&#x440;&#x435; &#x441;&#x43A;&#x440;&#x438;&#x43F;&#x442;&#x43E;&#x432;](../.gitbook/assets/image%20%28162%29.png)

{% hint style="info" %}
Если вы не хотите, чтоб значения запрашивались каждый раз или необходимо проверить вначале наличие сохраненных значение, то необходимо установить активность параметра _Использовать условие_ и описать [JS условие выполнения команды](https://metarex.gitbook.io/metabot24/sintaksis-js-skripta-s-usloviem/js-uslovie-vypolneniya-komandy).
{% endhint %}

Например: допустим надо проверить указал ли пользователь ранее значение _Имя_ и повторно его не запрашивать. Мы должны ввести проверяемое условие.

```javascript
if (lead.getAttr('Имя') == null) {
  return true;
}
```

![](../.gitbook/assets/izobrazhenie%20%28181%29.png)

В редакторе скриптов команда **Запросить значение** будет выглядеть следующим образом и будет выполняться только в том случае, если по Лиду не заполнено значение _Имя_.

![](../.gitbook/assets/izobrazhenie%20%28225%29.png)

По данной команде доступны следующие операции:

* Редактировать команду
* Удалить команду
* Перетащить для изменения порядка - удерживая иконку левой кнопкой мыши можно перетащить команду по списку вверх или вниз

![&#x41E;&#x43F;&#x435;&#x440;&#x430;&#x446;&#x438;&#x438; &#x434;&#x43B;&#x44F; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x44B; &quot;&#x417;&#x430;&#x43F;&#x440;&#x43E;&#x441;&#x438;&#x442;&#x44C; &#x437;&#x43D;&#x430;&#x447;&#x435;&#x43D;&#x438;&#x435;&quot;](../.gitbook/assets/image%20%2827%29.png)

Введенные значения будут записаны в поле _**Атрибуты**_ в разделе [**Лиды**](https://app.metabot24.com/lead)**.**

![&#x410;&#x442;&#x440;&#x438;&#x431;&#x443;&#x442;&#x44B; &#x432; &#x440;&#x430;&#x437;&#x434;&#x435;&#x43B;&#x435; &#x41B;&#x438;&#x434;&#x44B;](../.gitbook/assets/image%20%2873%29.png)

Редактировать или удалить введенные значения можно в разделе [**Атрибуты**](https://app.metabot24.com/bot-attribute).

![&#x410;&#x442;&#x440;&#x438;&#x431;&#x443;&#x442;&#x44B; &#x432;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x43D;&#x44B;&#x435; &#x432; &#x431;&#x43E;&#x442;&#x430;](../.gitbook/assets/image%20%28210%29.png)

