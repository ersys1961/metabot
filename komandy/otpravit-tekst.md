---
description: Бот отправляет тестовое сообщение с эмодзи
---

# Отправить текст

Функциональную команду отправки текстового сообщения можно использовать в любой части вашего бота. Это наиболее часто используемая команда в проектировании бота. На основании этой команды строится большинство разговорных диалогов.

{% embed url="https://www.youtube.com/watch?v=clA5-R8xfuc" %}

Настроить команду _Отправить текст_ можно, выбрав одноименный пункт **Отправить текст** из списка **Команд**:

![&#x421;&#x43F;&#x438;&#x441;&#x43E;&#x43A; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;](../.gitbook/assets/izobrazhenie%20%28210%29.png)

‌В диалоговом окне, в поле _**Текст**_ необходимо указать текстовое сообщение, а также эмодзи для эмоциональной разгрузки текста. В данной команде можно вводить ссылки на сторонние ресурсы, например, Youtube, Telegram.

Параметр _Использовать условие_ - активность параметра позволяет создавать условие:

* если условие выполнено успешно, то данная команда будет выполнена
* если условие выполнено не успешно, то данная команда не будет выполнена

### Использование макропеременных команды _Отправить текст_

#### Команда отправить текстовое сообщение в мессенджер

Пример содержимого команды _Отправить текст_, список макропеременных аналогичен списку для команды _Email, з_а исключением того что содержимое письма - это html разметка, а содержимое команды _Отправить текст_ - обычный текст.

{% hint style="info" %}
Список используемых макропеременных можно найти в разделе [Макропеременные](https://metabot.gitbook.io/documentation/sintaksis-js-skripta-s-usloviem/makroperemennye).
{% endhint %}

#### Пример

```text
Результаты последнего опроса:

Карточка клиента - {{ $name }} - {{ $botName }}

Имя:
{{ $name }}

Как дела:
{{ $how_are_you }}

Есть ли тэг чтото_делает:
{{ #чтото_делает }}

Есть ли тэг "тэг1":
{{ #тэг1 }}

Есть ли тэг "some_tag":
{{ #some_tag }}
© 2018 — 2019 Metabot
```

Подробнее с синтаксисом условий можно ознакомиться в разделе [JS условие выполнения команды](https://metabot.gitbook.io/documentation/sintaksis-js-skripta-s-usloviem/js-uslovie-vypolneniya-komandy).

{% hint style="warning" %}
Параметр позволяет настраивать очень гибкие сценарии бота, в котором выполнение тех или иных команд зависит от выполнения условий. Например, зависит от определенных действий пользователя или от полученных от него данных.
{% endhint %}

Если параметр _Использовать условие_ не активен, то далее нажать кнопку _**Создать**_.

![&#x41D;&#x430;&#x441;&#x442;&#x440;&#x43E;&#x439;&#x43A;&#x430; &#x441;&#x432;&#x43E;&#x439;&#x441;&#x442;&#x432; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x44B;](../.gitbook/assets/image%20%283%29.png)

{% hint style="info" %}
Для того, чтобы вывести Smalltalk ответ бота по распознанному NLP Action, то в скрипт нужно добавить команду **Отправить текст** и в поле _Текст_  указать 

{{ $nlpLastReponseText }}

Таким образом бот пришлет пользователю сообщение с ответом, полученным от Dialogflow Smalltalk.
{% endhint %}

![](../.gitbook/assets/izobrazhenie%20%28337%29.png)

В редакторе скриптов появится команда **Отправить текст**.

![&#x41A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x430; &#x432; &#x440;&#x435;&#x434;&#x430;&#x43A;&#x442;&#x43E;&#x440;&#x435; &#x441;&#x43A;&#x440;&#x438;&#x43F;&#x442;&#x43E;&#x432;](../.gitbook/assets/image%20%2835%29.png)

По данной команде доступны следующие операции:

* Редактировать команду
* Удалить команду

![&#x41E;&#x43F;&#x435;&#x440;&#x430;&#x446;&#x438;&#x438; &#x434;&#x43B;&#x44F; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x44B; &quot;&#x41E;&#x442;&#x43F;&#x440;&#x430;&#x432;&#x438;&#x442;&#x44C; &#x442;&#x435;&#x43A;&#x441;&#x442;&quot;](../.gitbook/assets/image%20%28128%29.png)

