---
description: >-
  В этом уроке вы узнаете про тонкости создания ботов на базе социальной CRM
  системы Umnico.
---

# Бот на базе Umnico

{% embed url="https://youtu.be/-\_OS2OVHYOk" %}

Чтобы создать бота, вы можете воспользоваться любыми уроками из раздела [**Уроки**](https://metabot.gitbook.io/documentation/lessons) ****и затем перейти к этому уроку, чтобы подключить вашего бота к сервису Umnico.

### Создание бота

Вы можете быстро создать бот с [Меню самообслуживания](https://metabot.gitbook.io/documentation/lessons/bot-s-menyu-samoobsluzhivaniya) или создать более сложный бот с [применением распознавания естественного языка \(NLP\)](https://metabot.gitbook.io/documentation/lessons/bot-pervogo-kasaniya-s-nlp).

Предположим, что вы уже ознакомились с указанными уроками и создали бота. Далее мы расскажем, как интегрировать полученного бота в Umnico и про тонкости специфической  настройки этого сервиса.

### Интеграция с Umnico

С [Umniсo](https://umnico.com) возможна настройка интеграций по перечисленным ниже каналам связи:

{% hint style="info" %}
Umnico предлагает следующий список возможных интеграций: Онлайн-чат для сайта, WhatsApp, Instagram, Telegram, Facebook Messenger, ВКонтакте.
{% endhint %}

![&#x421;&#x43F;&#x438;&#x441;&#x43E;&#x43A; &#x438;&#x43D;&#x442;&#x435;&#x433;&#x440;&#x430;&#x446;&#x438;&#x44F; &#x43E;&#x442; Umnico](../.gitbook/assets/izobrazhenie%20%28386%29.png)

Для интеграции сервиса Umnico c платформой Metabot24 необходимо в разделе **Настройки -&gt; API** скопировать ваш API токен, нажав на кнопку _**Скопировать токен**_. 

![](../.gitbook/assets/izobrazhenie%20%2893%29.png)

Далее на платформе [**Metabot24**](https://app.metabot24.com/) в настройках своего бота выполнить следующие действия:

* Перейти в настройки бота в раздел **Настройки бота** подраздел [**Каналы**](https://app.metabot24.com/bot-channel)**.**
* Нажать кнопку ****_**Новая привязка**_ ****и выбрать канал **Umnico**, вставить токен.
* В поле _**Логин Менеджера**_ вставить логин пользователя из Umnico, остальные параметры оставить без изменения и сохранить настройку.

![](../.gitbook/assets/izobrazhenie%20%2820%29.png)

* Новая привязка создана и для завершения настройки необходимо нажать ссылку **Вебхук.**
* Подтвердить выполняемую операцию.
* Подключение к сервису Umnico завершено.

![](../.gitbook/assets/izobrazhenie%20%2827%29.png)

### Особенности работы

После настройки интеграции канала **Umnico** необходимо выполнить синхронизацию статусов.

{% hint style="success" %}
Синхронизация статусов нужна, чтобы связать между собой статусы в Umnico со статусами в вашем боте на платформе Metabot24. После установки связки напротив каждого статуса появится _**Внешний ID**_ \(т.е. идентификатор статуса в системе Umnico\), что означает что связь статусов произошла. Теперь вы сможете менять статус заявок в Umnico из бота, выполняя команду **Изменить статус лида** в скриптах.
{% endhint %}

Для этого на платформе [**Metabot24**](https://app.metabot24.com) в настройках своего бота выполнить следующие действия:

* Перейти в настройки бота в раздел **Настройки бота** подраздел [**Статусы**](https://app.metabot24.com/status)**.**
* Нажать кнопку ****_**Синхронизация:**_
  * Подтвердить или отменить выполняемую операцию.
  * Синхронизация завершена.

![](../.gitbook/assets/izobrazhenie%20%28407%29.png)

{% hint style="success" %}
Синхронизация завершена успешно, если в списке **Статусов** появятся записи с заполненным полем _**Внешний ID**, которое является идентификатором статуса в Umnico._
{% endhint %}

![](../.gitbook/assets/izobrazhenie%20%28349%29.png)

Как только проведена синхронизация платформы Metabot с Umnico, то появляется возможность из Metabot управлять статусами в Umnico.

### Передача управления оператору

Поскольку в Umnico отсутствует нативная возможность передавать управление диалогом от бота человеку и обратно, то для эмуляции этой возможности мы добавляем в воронку дополнительный статус _**Диалог с оператором**_. Логика работы гибридного бота с человеком получается следующая:

* Бот встречает всех пользователей на самом первом статусе воронки, отвечая на часто задаваемые вопросы и выступая некоторым фильтром обращений;
* Бот при необходимости переводит в статус _Диалог с оператором_;
* Ваши менеджеры не вмешиваются в диалог до тех пор, пока заявка не достигнет статуса _Диалог с оператором_; 
* Если необходимо вмешаться в диалог с ботом, то менеджер вначале переводит в Umnico заявку в статус _Диалог с оператором_, чтобы остановить бота, а затем общается. После завершения общения переводит обратно в статус для бота или другой статус воронки.

{% hint style="warning" %}
**Внимание!**  Рекомендуем для обеспечения первоклассного клиентского сервиса, при вступлении оператора в диалог, далее менеджерам приветствовать пользователя, сообщать, что в диалог вступил человек и называть свое имя. А по завершении диалога сообщать, что управление передано обратно боту.
{% endhint %}

### \*\*\*\*

