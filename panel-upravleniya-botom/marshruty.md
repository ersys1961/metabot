---
description: >-
  От маршрутов зависит по какой из цепочки сценариев пойдет бот при общении с
  пользователем.
---

# Маршруты

**Маршруты** - это начальная точка взаимодействия бота и пользователя. Маршруты позволяют настроить условия запуска созданных скриптов. 

{% embed url="https://www.youtube.com/watch?v=XvR5\_bsU\_2k" %}



Бот взаимодействует с пользователем, анализирует полученное сообщение, находит с списке подходящий маршрут и затем стартует скрипт, а дальше бот выполняет сценарий уже по скрипту.

{% hint style="warning" %}
Если не найден ни один маршрут, то выполняется резервный скрипт с типом **Fallback**.
{% endhint %}

Маршруты необходимо создавать в разделе главного меню **Настройки бота** подраздел [**Маршруты**](https://app.metabot24.com/route).

На экранной форме нажать кнопку [_**Создать маршрут**_](https://app.metabot24.com/route/create)**.**

![&#x420;&#x430;&#x437;&#x434;&#x435;&#x43B; &quot;&#x41C;&#x430;&#x440;&#x448;&#x440;&#x443;&#x442;&#x44B;&quot;](../.gitbook/assets/image%20%2841%29.png)

При создании  нового маршрута необходимо заполнить следующие параметры:

* **Название** - логически понятное название маршрута , например, _Основной маршрут._
* **Скрипт** - из списка скриптов выбрать скрипт, который будет запущен при старте данного маршрута.
* **Регулярное выражение** - параметр маршрута, слова по которым бот должен будет запуститься.  Например: ****
  *  **.\*** - это выражение означает, что старт бота произойдет при любом введенном слове или символе со стороны пользователя.
  * бот\|меню - синтаксис написания выражения. Данное выражение позволит настроить запуск бота после остановки или при намерении пользователя вернуться в главное Меню.

```text
.*
бот|меню
\s*бот\s*|\s*меню\s*
и др.
```

{% hint style="warning" %}
Знаком " **\|** " в регулярном выражении разделяются слова-синонимы.
{% endhint %}

* **Статус лида** - значение выбирается из списка [Статусов](https://metabot.gitbook.io/documentation/panel-upravleniya-botom/statusy), означает при каком статусе лида будет выполняться данный маршрут. 
* **Контекст лида** - параметр маршрута, который задается командой [Добавить контекст](https://metabot.gitbook.io/documentation/komandy/dobavit-kontekst) в скрипте бота и означает выполнение маршрута удовлетворяющего данному условию.

![&#x424;&#x43E;&#x440;&#x43C;&#x430; &#x441;&#x432;&#x43E;&#x439;&#x441;&#x442;&#x432; &#x43C;&#x430;&#x440;&#x448;&#x440;&#x443;&#x442;&#x430;](../.gitbook/assets/image%20%2892%29.png)

В разделе [**Маршруты**](https://app.metabot24.com/route) располагается список маршрутов данного бота с доступными операциями:

* Перейти в редактор скрипта - будет произведен переход в скрипт для редактирования, который указан в свойствах маршрута;
* Редактировать свойства маршрута;
* Удалить маршрут.

![&#x41E;&#x43F;&#x435;&#x440;&#x430;&#x446;&#x438;&#x438; &#x434;&#x43B;&#x44F; &#x441;&#x43F;&#x438;&#x441;&#x43A;&#x430; &#x41C;&#x430;&#x440;&#x448;&#x440;&#x443;&#x442;&#x43E;&#x432;](../.gitbook/assets/image%20%2863%29.png)

